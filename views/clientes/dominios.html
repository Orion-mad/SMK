<section class="container-fluid p-3 h-100 d-flex flex-column" id="view-dominios">
  <header class="mb-2 d-flex align-items-center justify-content-between">
    <div>
    <h1 class="h4 text-uppercase m-0">
      <span class="badge bg-warning me-2">LCARS</span> Cuentas · Dominios
    </h1>
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb mb-0">
          <li class="breadcrumb-item"><a href="#/clientes">Cuentas</a></li>
          <li class="breadcrumb-item active">Dominios</li>
        </ol>
      </nav>
    </div>
    <div>
      <button class="btn btn-primary" id="btn-new-cliente">
        <i class="bi bi-plus-circle me-1"></i> Nuevo Dominio
      </button>
    </div>
  </header>

  <div class="row g-3 flex-grow-1">
    <div class="col-12 h-100">
      <div class="card h-100 border-0 shadow-sm rounded-4">
        <div class="card-header bg-dark text-white d-flex align-items-center justify-content-between">
          <span class="lcars-title">Listado de Dominios</span>
          <div class="d-flex gap-2">
            <select class="form-select form-select-sm" id="filter-estado" style="width: auto;">
              <option value="">Todos los estados</option>
              <option value="activo">Activos</option>
              <option value="suspendido">Suspendidos</option>
              <option value="vencido">Vencidos</option>
              <option value="transferencia">En Transferencia</option>
              <option value="cancelado">Cancelados</option>
            </select>
            <select class="form-select form-select-sm" id="filter-ssl" style="width: auto;">
              <option value="">SSL: Todos</option>
              <option value="1">Con SSL</option>
              <option value="0">Sin SSL</option>
            </select>
            <input type="search" class="form-control form-control-sm" placeholder="Buscar..." id="dominios-search">
          </div>
        </div>
        <div class="card-body p-0" id="dominios-tablewrap">
          <table class="table table-hover align-middle m-0" id="dominios-table">
            <thead class="table-light position-sticky top-0" style="z-index: 1;">
              <tr>
                <th class="text-nowrap">#</th>
                <th>Código</th>
                <th>Dominio</th>
                <th>Cliente</th>
                <th>Tipo</th>
                <th>Proveedor</th>
                <th>Vencimiento</th>
                <th>SSL</th>
                <th>Estado</th>
                <th class="text-end">Acciones</th>
              </tr>
            </thead>
            <tbody id="dominios-tbody"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Edición -->
  <div class="modal fade" id="modal-dominio" data-bs-backdrop="static" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
      <div class="modal-content rounded-4">
        <div class="modal-header">
          <h5 class="modal-title">Dominio</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="form-dominio" class="row g-3">
            <input type="hidden" name="id" id="dominio-id" value="0">
            
            <!-- Información Básica -->
            <div class="col-12">
              <h6 class="border-bottom pb-2 mb-3">
                <i class="bi bi-info-circle me-2"></i>Información Básica
              </h6>
            </div>

            <div class="col-md-4">
              <label class="form-label">Código *</label>
              <input type="text" class="form-control" name="codigo" id="dominio-codigo" placeholder="Auto-generado" readonly>
              <div class="form-text">Se genera automáticamente</div>
            </div>

            <div class="col-md-8">
              <label class="form-label">Dominio *</label>
              <input type="text" class="form-control" name="dominio" id="dominio-nombre" required placeholder="ejemplo.com">
            </div>

            <div class="col-md-6">
              <label class="form-label">Cliente *</label>
              <select class="form-select" name="cliente_id" id="dominio-cliente-id" required>
                <option value="">-- Seleccionar Cliente --</option>
              </select>
            </div>

            <div class="col-md-3">
              <label class="form-label">Tipo de Dominio</label>
              <select class="form-select" name="tipo_dominio" id="dominio-tipo">
                <option value="principal">Principal</option>
                <option value="adicional">Adicional</option>
                <option value="subdominio">Subdominio</option>
                <option value="redireccion">Redirección</option>
              </select>
            </div>

            <div class="col-md-3">
              <label class="form-label">Plan (Opcional)</label>
              <select class="form-select" name="plan_id" id="dominio-plan-id">
                <option value="">-- Sin Plan --</option>
              </select>
            </div>

            <!-- Datos de Hosting -->
            <div class="col-12 mt-4">
              <h6 class="border-bottom pb-2 mb-3">
                <i class="bi bi-hdd-network me-2"></i>Datos de Hosting
              </h6>
            </div>

            <div class="col-md-4">
              <label class="form-label">Proveedor de Hosting</label>
              <input type="text" class="form-control" name="proveedor_hosting" id="dominio-proveedor" placeholder="ej: Hostinger, GoDaddy">
            </div>

            <div class="col-md-4">
              <label class="form-label">Servidor</label>
              <input type="text" class="form-control" name="servidor" id="dominio-servidor" placeholder="IP o hostname">
            </div>

            <div class="col-md-4">
              <label class="form-label">Panel de Control</label>
              <input type="text" class="form-control" name="panel_control" id="dominio-panel" placeholder="cPanel, Plesk, DirectAdmin">
            </div>

            <div class="col-md-12">
              <label class="form-label">URL del Panel</label>
              <input type="url" class="form-control" name="url_panel" id="dominio-url-panel" placeholder="https://panel.ejemplo.com">
            </div>

            <div class="col-md-6">
              <label class="form-label">Usuario Hosting</label>
              <input type="text" class="form-control" name="usuario_hosting" id="dominio-usuario">
            </div>

            <div class="col-md-6">
              <label class="form-label">Contraseña Hosting</label>
              <div class="input-group">
                <input type="password" class="form-control" name="password_hosting" id="dominio-password">
                <button class="btn btn-outline-secondary" type="button" id="toggle-password">
                  <i class="bi bi-eye"></i>
                </button>
              </div>
              <div class="form-text">Se almacena de forma segura</div>
            </div>

            <!-- Datos de Registro y DNS -->
            <div class="col-12 mt-4">
              <h6 class="border-bottom pb-2 mb-3">
                <i class="bi bi-globe me-2"></i>Registro y DNS
              </h6>
            </div>

            <div class="col-md-4">
              <label class="form-label">Registrador</label>
              <input type="text" class="form-control" name="registrador" id="dominio-registrador" placeholder="ej: NIC Argentina, GoDaddy">
            </div>

            <div class="col-md-4">
              <label class="form-label">Fecha de Registro</label>
              <input type="date" class="form-control" name="fecha_registro" id="dominio-fecha-registro">
            </div>

            <div class="col-md-4">
              <label class="form-label">Fecha de Vencimiento</label>
              <input type="date" class="form-control" name="fecha_vencimiento" id="dominio-fecha-vencimiento">
            </div>

            <div class="col-md-3">
              <label class="form-label">Nameserver 1</label>
              <input type="text" class="form-control" name="ns1" id="dominio-ns1" placeholder="ns1.ejemplo.com">
            </div>

            <div class="col-md-3">
              <label class="form-label">Nameserver 2</label>
              <input type="text" class="form-control" name="ns2" id="dominio-ns2" placeholder="ns2.ejemplo.com">
            </div>

            <div class="col-md-3">
              <label class="form-label">Nameserver 3</label>
              <input type="text" class="form-control" name="ns3" id="dominio-ns3" placeholder="ns3.ejemplo.com">
            </div>

            <div class="col-md-3">
              <label class="form-label">Nameserver 4</label>
              <input type="text" class="form-control" name="ns4" id="dominio-ns4" placeholder="ns4.ejemplo.com">
            </div>

            <!-- Configuración Técnica -->
            <div class="col-12 mt-4">
              <h6 class="border-bottom pb-2 mb-3">
                <i class="bi bi-shield-lock me-2"></i>Configuración Técnica
              </h6>
            </div>

            <div class="col-md-4">
              <label class="form-label">IP Principal</label>
              <input type="text" class="form-control" name="ip_principal" id="dominio-ip" placeholder="192.168.1.1 o IPv6">
            </div>

            <div class="col-md-2">
              <label class="form-label">SSL Activo</label>
              <select class="form-select" name="ssl_activo" id="dominio-ssl-activo">
                <option value="0">No</option>
                <option value="1">Sí</option>
              </select>
            </div>

            <div class="col-md-3">
              <label class="form-label">Tipo SSL</label>
              <input type="text" class="form-control" name="ssl_tipo" id="dominio-ssl-tipo" placeholder="Let's Encrypt, Comercial">
            </div>

            <div class="col-md-3">
              <label class="form-label">Vencimiento SSL</label>
              <input type="date" class="form-control" name="ssl_vencimiento" id="dominio-ssl-vencimiento">
            </div>

            <!-- Estado y Configuración -->
            <div class="col-12 mt-4">
              <h6 class="border-bottom pb-2 mb-3">
                <i class="bi bi-gear me-2"></i>Estado y Configuración
              </h6>
            </div>

            <div class="col-md-3">
              <label class="form-label">Estado *</label>
              <select class="form-select" name="estado" id="dominio-estado" required>
                <option value="activo">Activo</option>
                <option value="suspendido">Suspendido</option>
                <option value="vencido">Vencido</option>
                <option value="transferencia">En Transferencia</option>
                <option value="cancelado">Cancelado</option>
              </select>
            </div>

            <div class="col-md-3">
              <label class="form-label">Renovación Automática</label>
              <select class="form-select" name="renovacion_auto" id="dominio-renovacion">
                <option value="0">No</option>
                <option value="1">Sí</option>
              </select>
            </div>

            <div class="col-md-3">
              <label class="form-label">Orden</label>
              <input type="number" class="form-control text-end" name="orden" id="dominio-orden" value="0">
            </div>

            <div class="col-md-3">
              <label class="form-label d-block">&nbsp;</label>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="dominio-mostrar-info">
                <label class="form-check-label" for="dominio-mostrar-info">
                  Mostrar en portal cliente
                </label>
              </div>
            </div>

            <!-- Información Adicional -->
            <div class="col-12 mt-4">
              <h6 class="border-bottom pb-2 mb-3">
                <i class="bi bi-chat-left-text me-2"></i>Información Adicional
              </h6>
            </div>


            <div class="col-md-12">
              <label class="form-label">Observaciones</label>
              <textarea class="form-control" name="observaciones" id="dominio-observaciones" rows="2" placeholder="Notas breves sobre el dominio"></textarea>
            </div>

            <div class="col-md-12">
              <label class="form-label">Detalles Técnicos</label>
              <textarea class="form-control" name="detalles" id="dominio-detalles" rows="4" placeholder="Información técnica detallada, configuraciones especiales, etc."></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="btn-save-dominio">Guardar</button>
        </div>
      </div>
    </div>
  </div>
</section>
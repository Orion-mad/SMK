<!-- /views/contable.html -->
<section id="contable-main" class="container-fluid py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 class="mb-0"><i class="bi bi-calculator me-2"></i>Dashboard Contable</h2>
      <p class="text-muted mb-0">Resumen general de la situación contable</p>
    </div>
  </div>

  <div class="lcars-frame rounded-4 shadow-lg">
    <div class="lcars-content p-4">
      <div class="row g-4">

        <!-- Card: Cobros -->
        <div class="col-12 col-lg-6">
          <div class="card lcars-card border-0 shadow-sm rounded-4">
            <div class="card-header bg-dark text-white d-flex align-items-center justify-content-between">
              <span class="text-uppercase"><i class="bi bi-cash-coin me-2"></i>Cobros</span>
              <a href="#/contable/cobros" class="btn btn-sm btn-success">
                Abrir <i class="bi bi-arrow-right-short"></i>
              </a>
            </div>
            <div class="card-body">
              <div class="row g-3 align-items-stretch">
                <div class="col-12 col-md-7">
                  <div class="row text-center">
                    <div class="col-6 col-md-4 mb-3">
                      <div class="fw-semibold">Total</div>
                      <div class="display-6" id="stat-cobros-total">—</div>
                    </div>
                    <div class="col-6 col-md-4 mb-3">
                      <div class="fw-semibold">Pendientes</div>
                      <div class="display-6 text-warning" id="stat-cobros-pendientes">—</div>
                    </div>
                    <div class="col-6 col-md-4 mb-3">
                      <div class="fw-semibold">Pagados</div>
                      <div class="display-6 text-success" id="stat-cobros-pagados">—</div>
                    </div>
                    <div class="col-6 col-md-6 mb-3">
                      <div class="fw-semibold">Monto Total</div>
                      <div class="h5 m-0" id="stat-cobros-monto-total">—</div>
                    </div>
                    <div class="col-6 col-md-6 mb-3">
                      <div class="fw-semibold">Saldo Pendiente</div>
                      <div class="h5 m-0 text-danger" id="stat-cobros-saldo">—</div>
                    </div>
                  </div>
                </div>
                <div class="col-12 col-md-5">
                  <div class="border rounded-4 p-2 h-100 d-flex flex-column">
                    <div class="small text-muted">Estado de Cobros</div>
                    <canvas id="chart-cobros-estado" height="160"></canvas>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer d-flex justify-content-end gap-2">
              <a href="#/contable/cobros" class="btn btn-outline-success">
                Gestionar Cobros
              </a>
            </div>
          </div>
        </div>

        <!-- Card: Servicios -->
        <div class="col-12 col-lg-6">
          <div class="card lcars-card border-0 shadow-sm rounded-4">
            <div class="card-header bg-dark text-white d-flex align-items-center justify-content-between">
              <span class="text-uppercase"><i class="bi bi-hdd-network me-2"></i>Cobros de Servicios</span>
              <a href="#/contable/servicios" class="btn btn-sm btn-success">
                Abrir <i class="bi bi-arrow-right-short"></i>
              </a>
            </div>
            <div class="card-body">
              <div class="row g-3 align-items-stretch">
                <div class="col-12 col-md-7">
                  <div class="row text-center">
                    <div class="col-6 col-md-4 mb-3">
                      <div class="fw-semibold">Clientes</div>
                      <div class="display-6" id="stat-servicios-clientes">—</div>
                    </div>
                    <div class="col-6 col-md-4 mb-3">
                      <div class="fw-semibold">Activos</div>
                      <div class="display-6 text-success" id="stat-servicios-activos">—</div>
                    </div>
                    <div class="col-6 col-md-4 mb-3">
                      <div class="fw-semibold">Pendientes</div>
                      <div class="display-6 text-warning" id="stat-servicios-pendientes">—</div>
                    </div>
                    <div class="col-6 col-md-6 mb-3">
                      <div class="fw-semibold">Facturación USD</div>
                      <div class="h5 m-0" id="stat-servicios-usd">—</div>
                    </div>
                    <div class="col-6 col-md-6 mb-3">
                      <div class="fw-semibold">≈ Facturación ARS</div>
                      <div class="h5 m-0" id="stat-servicios-ars">—</div>
                    </div>
                  </div>
                </div>
                <div class="col-12 col-md-5">
                  <div class="border rounded-4 p-2 h-100 d-flex flex-column">
                    <div class="small text-muted">Estado de Servicios</div>
                    <canvas id="chart-servicios-estado" height="160"></canvas>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer d-flex justify-content-end gap-2">
              <a href="#/contable/servicios" class="btn btn-outline-success">
                Gestionar Servicios
              </a>
            </div>
          </div>
        </div>

        <!-- Card: Trabajos Pendientes -->
        <div class="col-12 col-lg-6">
          <div class="card lcars-card">
            <div class="card-header bg-dark text-white d-flex align-items-center justify-content-between">
              <span class="text-uppercase"><i class="bi bi-briefcase me-2"></i>Trabajos Pendientes</span>
              <a href="#/contable/trabajos" class="btn btn-sm btn-success">
                Abrir <i class="bi bi-arrow-right-short"></i>
              </a>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-4">
                  <div class="fw-semibold">Total</div>
                  <div class="display-6" id="stat-trabajos-total">—</div>
                  <div class="fw-semibold">Saldo Total</div>
                  <div class="h5 text-warning" id="stat-trabajos-saldo">—</div>
                </div>
                <div class="col-4">
                  <div class="fw-semibold">En Proceso</div>
                  <div class="display-6 text-info" id="stat-trabajos-proceso">—</div>
                  <div class="fw-semibold">Monto Total</div>
                  <div class="h5" id="stat-trabajos-monto">—</div>
                </div>
                <div class="col-4 border rounded-4 p-2">
                <canvas id="chart-trabajos-estado"></canvas>
                </div>
              </div>
            </div>
            <div class="card-footer d-flex justify-content-end gap-2">
              <a href="#/contable/trabajos" class="btn btn-outline-success">
                Gestionar Trabajos
              </a>
            </div>
              
          </div>
        </div>

        <!-- Card: Mercado Pago -->
        <div class="col-12 col-lg-6">
          <div class="card lcars-card lcars-card.violet border-0 shadow-sm rounded-4">
            <div class="card-header bg-dark text-white d-flex align-items-center justify-content-between">
              <span class="text-uppercase"><i class="bi bi-credit-card-2-front me-2"></i>Mercado Pago</span>
              <a href="#/contable/mercadopago" class="btn btn-sm btn-success">
                Ver Detalle <i class="bi bi-arrow-right-short"></i>
              </a>
            </div>
            <div class="card-body">
              <div class="alert alert-info mb-3">
                <i class="bi bi-info-circle me-2"></i>
                Balance y movimientos de tu cuenta de Mercado Pago
              </div>
              <div class="row">
                <div class="col-12 mb-3">
                  <div class="fw-semibold">Saldo Disponible</div>
                  <div class="h3 text-success mb-0" id="stat-mp-saldo">$ 0,00</div>
                </div>
                <div class="col-6">
                  <div class="fw-semibold">Ingresos del Mes</div>
                  <div class="h5 text-success" id="stat-mp-ingresos">$ 0,00</div>
                </div>
                <div class="col-6">
                  <div class="fw-semibold">Egresos del Mes</div>
                  <div class="h5 text-danger" id="stat-mp-egresos">$ 0,00</div>
                </div>
              </div>
            </div>
            <div class="card-footer d-flex justify-content-end gap-2">
              <a href="#/contable/mercadopago" class="btn btn-outline-success">
                <i class="bi bi-list-ul me-1"></i>Ver Movimientos
              </a>
            </div>
          </div>
        </div>

        <!-- Card: Evolución de Cobros -->
        <div class="col-12 col-lg-6">
          <div class="card lcars-card border-0 shadow-sm rounded-4 h-100">
            <div class="card-header bg-dark text-white">
              <span class="text-uppercase"><i class="bi bi-graph-up-arrow me-2"></i>Evolución de Cobros</span>
            </div>
            <div class="card-body">
              <div class="border rounded-4 p-2">
                <canvas id="chart-cobros-evolucion" height="180"></canvas>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

</section>